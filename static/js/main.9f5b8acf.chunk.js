(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,a){e.exports=a(63)},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(17),c=a.n(i),s=a(1),l=a(10),o=a(30),u=a(8),m={exists:!1,disableLocation:!1,message:""},p="CURRENTLY",h={load:!0,animation:!1},d={location:"New York",timezone:"America/New_York",currently:{icon:"DEFAULT"},daily:{},hourly:{}},E=Object(l.c)({weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,a=t.currently,n=t.hourly,r=t.daily,i=t.timezone,c=t.location;switch(t.type){case"FETCH_WEATHER":case"FETCH_WEATHER_FROM_COORDS":return Object(u.a)({},e,{currently:a,hourly:n,daily:r,timezone:i,location:c});default:return e}},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,a=Object(u.a)({},e,{load:!1,animation:!0});switch(t.type){case"LOADING":return Object(u.a)({},e,{load:!0,animation:!0});case"FETCH_WEATHER":case"FETCH_WEATHER_FROM_COORDS":case"ERROR":case"LOCATION_ERROR":return a;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ERROR":return Object(u.a)({},e,{exists:!0,message:t.message});case"LOCATION_ERROR":return Object(u.a)({},e,{exists:!0,message:t.message,disableLocation:!0});case"FETCH_WEATHER":case"FETCH_WEATHER_FROM_COORDS":case"LOADING":return Object(u.a)({},e,{exists:!1});default:return e}},displayed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CURRENTLY":case"DAILY":case"HOURLY":return t.type;default:return e}}}),f=a(2),b=a(3),y=a(5),N=a(4),O=a(6),v=a(15),g=a.n(v),w=function(e){return g.a.get("https://cors-anywhere.herokuapp.com/https://microservices-api.herokuapp.com/api/weather/".concat(e)).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(e)})},j=function(e,t){return g.a.get("https://cors-anywhere.herokuapp.com/https://microservices-api.herokuapp.com/api/weathercoords/?latitude=".concat(e,"&longitude=").concat(t)).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(e)})},R=function(e){function t(){return Object(f.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){}},{key:"changeDisplay",value:function(e,t){e.preventDefault(),this.props.displayChange(t)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"tabs is-toggle is-rounded is-fullwidth TWBold"},r.a.createElement("ul",null,r.a.createElement("li",{className:"CURRENTLY"===this.props.displayed?"is-active":"inactive"},r.a.createElement("a",{className:"tab",href:"/",onClick:function(t){return e.changeDisplay.apply(e,[t,"CURRENTLY"])}},r.a.createElement("span",{className:"has-text-light"},"Now"))),r.a.createElement("li",{className:"HOURLY"===this.props.displayed?"is-active":"inactive"},r.a.createElement("a",{className:"tab",href:"/",onClick:function(t){return e.changeDisplay.apply(e,[t,"HOURLY"])}},r.a.createElement("span",{className:"has-text-light"},"24hr"))),r.a.createElement("li",{className:"DAILY"===this.props.displayed?"is-active":"inactive"},r.a.createElement("a",{className:"tab",href:"/",onClick:function(t){return e.changeDisplay.apply(e,[t,"DAILY"])}},r.a.createElement("span",{className:"has-text-light"},"This Week"))),r.a.createElement("li",null,r.a.createElement("a",{id:"logo-tab",href:"https://omarjuice.github.io/",className:"has-text-centered",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",{className:"is-invisible"},"OJ")))))}}]),t}(n.Component),T=Object(s.b)(function(e,t){return{displayed:e.displayed}},{displayChange:function(e){return function(t){return t({type:e})}}})(R),k={DEFAULT:"background-default",CLEAR_DAY:"background-clear-day",CLEAR_NIGHT:"background-clear-night",PARTLY_CLOUDY_DAY:"background-partly-cloudy-day",PARTLY_CLOUDY_NIGHT:"background-partly-cloudy-night",CLOUDY:"background-cloudy",RAIN:"background-rain",SLEET:"background-snow",SNOW:"background-snow",WIND:"background-wind",FOG:"background-fog"},C=a(14),L=a(9),W=a.n(L),_=a(12),x=a.n(_),D=function(e){function t(){return Object(f.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=x.a.tz(1e3*this.props.weather.time,this.props.timezone).format("h:mm a"),t=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][(this.props.weather.windBearing/22.5+.5)%16|0],a=this.props.weather.icon.toUpperCase().replace(/-/g,"_");return r.a.createElement("div",{className:"columns is-centered is-multiline is-mobile weather-display has-text-light"},r.a.createElement("div",{id:"current-time",className:"column is-full has-text-centered TWBold title is-4 has-text-light"},e),r.a.createElement("div",{id:"location",className:"column is-full"},r.a.createElement("h1",{className:"title is-4 has-text-centered TWBold has-text-light"},this.props.location)),r.a.createElement("div",{className:"column is-half has-text-centered"},r.a.createElement("h1",{className:"title is-1 is-size-3-mobile TWBold has-text-light"},0|this.props.weather.temperature,"\xb0F"),r.a.createElement("p",{className:"is-size-5 is-size-7-mobile TWBold"},"Feels Like: ",0|this.props.weather.apparentTemperature,"\xb0F")),r.a.createElement("div",{className:"column is-half has-text-centered large-skycon"},r.a.createElement(W.a,{color:"white",icon:a,autoplay:!0})),r.a.createElement("div",{id:"summary",className:"column is-full has-text-centered TWBold"},r.a.createElement("p",{className:"is-size-4 is-size-6-mobile"},this.props.weather.summary)),r.a.createElement("div",{className:"column is-half has-text-centered TWBold"},r.a.createElement("p",{className:"is-size-4 is-size-6-mobile"},"Precipitation",r.a.createElement("br",{className:"buffer"}),r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-umbrella"})),this.props.weather.precipProbability,"%")),r.a.createElement("div",{className:"column is-half has-text-centered TWBold"},r.a.createElement("p",{className:"is-size-4 is-size-6-mobile"},"Humidity",r.a.createElement("br",{className:"buffer"}),r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-tint"})),this.props.weather.humidity)),r.a.createElement("div",{className:"column is-half has-text-centered TWBold"},r.a.createElement("p",{className:"is-size-4 is-size-6-mobile"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-wind"})),this.props.weather.windSpeed,"mph",r.a.createElement("br",{className:"buffer"}),r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-compass"})),t)),r.a.createElement("div",{className:"column is-half has-text-centered TWBold"},r.a.createElement("p",{className:"is-size-4 is-size-6-mobile"},"UV Index",r.a.createElement("br",{className:"buffer"}),r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"far fa-sun"})),this.props.weather.uvIndex)),r.a.createElement("div",{className:"column is-full has-text-centered"},r.a.createElement("p",{className:"is-size-5 TWBold"},"Powered by ",r.a.createElement("a",{href:"https://www.mapbox.com/"},"MapBox")," and  ",r.a.createElement("a",{href:"https://darksky.net/dev"},"DarkSky"))))}}]),t}(n.Component),z=Object(s.b)(function(e,t){return{weather:e.weather.currently,location:e.weather.location,timezone:e.weather.timezone}},null)(D),A=function(e){function t(){return Object(f.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.props.weather.data.map(function(t,a){if(a>23)return null;var n=t.icon.toUpperCase().replace(/-/g,"_"),i=x()(1e3*t.time).tz(e.props.timezone).format("ha");return r.a.createElement("div",{key:i,className:"column is-one-quarter small-skycon hour has-text-light"},r.a.createElement("div",{className:"is-size-4 TWBold"},i),r.a.createElement(W.a,{color:"white",icon:n,autoplay:!0}),r.a.createElement("div",{className:"is-size-4 TW"},0|t.temperature,"\xb0F"),r.a.createElement("div",{className:"is-size-6 TW has-text-centered"},"Feels Like: ",0|t.apparentTemperature,"\xb0F "))});return r.a.createElement("div",{className:"columns is-centered is-multiline is-mobile weather-display"},t)}}]),t}(n.Component),S=Object(s.b)(function(e,t){return{weather:e.weather.hourly,location:e.weather.location,timezone:e.weather.timezone}},null)(A),Y=function(e){function t(){return Object(f.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.props.weather.data.map(function(t){var a=t.icon.toUpperCase().replace(/-/g,"_"),n=x()(1e3*t.time).tz(e.props.timezone).format("ddd");return r.a.createElement("div",{key:n,className:"is-size-4 TWBold column is-full small-skycon has-text-centered day-display"},n,r.a.createElement(W.a,{color:"white",icon:a,autoplay:!0}),r.a.createElement("p",{className:"temp"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-thermometer-full"})),0|t.temperatureHigh,"\xb0"),r.a.createElement("p",{className:"temp"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-thermometer-empty"})),0|t.temperatureLow,"\xb0"))}).slice(0,7);return r.a.createElement("div",{className:"columns is-centered is-multiline is-mobile weather-display has-text-white"},r.a.createElement("div",{id:"weekly-summary",className:"column is-full has-text-centered"},r.a.createElement("p",{className:"TWBold"},this.props.weather.summary)),t)}}]),t}(n.Component),H=Object(s.b)(function(e,t){return{weather:e.weather.daily,location:e.weather.location,timezone:e.weather.timezone}},null)(Y),F=function(e){function t(){return Object(f.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"columns is-centered is-mobile weather-display has-text-white"},r.a.createElement("div",{className:"column is-two-thirds"},r.a.createElement("h1",{className:"title is-1 TWBold has-text-light has-text-centered"},"Error!"),r.a.createElement("h1",{className:"title is-3 TW has-text-light has-text-centered"},this.props.error.message)))}}]),t}(n.Component),I=Object(s.b)(function(e,t){return{error:e.error}},null)(F),U=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(y.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(i)))).getSkycons=function(){return["CLEAR_DAY","CLEAR_NIGHT","PARTLY_CLOUDY_DAY","PARTLY_CLOUDY_NIGHT","CLOUDY","RAIN","SLEET","SNOW","WIND","FOG"].map(function(e,t){var n=t%2===0?"left":"right",i=a.props.loading.animation?"moving-skycon":"centered-skycon",c="column is-full small-skycon ".concat(i," ").concat(n);return r.a.createElement("div",{key:e,className:c},r.a.createElement(W.a,{color:"white",icon:e,autoplay:!0}))})},a}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.getSkycons();return r.a.createElement("div",{className:"columns is-centered is-multiline weather-display"},e)}}]),t}(n.Component),B=Object(s.b)(function(e,t){return{loading:e.loading}},null)(U),P=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(N.a)(t).call(this,e))).getDisplay=a.getDisplay.bind(Object(C.a)(Object(C.a)(a))),a}return Object(O.a)(t,e),Object(b.a)(t,[{key:"getDisplay",value:function(){return this.props.loading?r.a.createElement(B,null):this.props.error?r.a.createElement(I,null):"CURRENTLY"===this.props.display?r.a.createElement(z,null):"HOURLY"===this.props.display?r.a.createElement(S,null):"DAILY"===this.props.display?r.a.createElement(H,null):void 0}},{key:"render",value:function(){var e=this.getDisplay();return r.a.createElement("div",{className:"box blurred-box"},this.props.children,e)}}]),t}(n.Component),G=Object(s.b)(function(e,t){return{loading:e.loading.load,display:e.displayed,error:e.error.exists}},null)(P),M=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(N.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=document.getElementById("input").value;a.input="",document.getElementById("input").value="",t.length<1||(a.props.loading(),a.props.fetchWeather(t))},a.handleLocation=function(e){e.preventDefault(),a.props.loading(),window.navigator.geolocation.getCurrentPosition(function(e){a.props.fetchWeatherFromCoords(e.coords.latitude,e.coords.longitude)},function(e){a.props.locationError()})},a.input="",a}return Object(O.a)(t,e),Object(b.a)(t,[{key:"componentDidUpdate",value:function(){console.log("update")}},{key:"render",value:function(){var e;return e=this.props.icon?"columns is-centered ".concat(k[this.props.icon.toUpperCase().replace(/-/g,"_")]):"columns is-centered",r.a.createElement("div",{id:"container",className:e},r.a.createElement("div",{className:"column is-one-third-desktop is-half-tablet is-full-mobile"},r.a.createElement(T,null),r.a.createElement(G,null,r.a.createElement("form",{id:"search-form",action:"",onSubmit:this.handleSubmit},r.a.createElement("input",{id:"input",className:"input is-primary TW",type:"text",autoComplete:"off",autoFocus:!0}),r.a.createElement("div",{className:"has-text-centered"},r.a.createElement("input",{type:"submit",className:"button is-success TWBold",value:"Search"}),r.a.createElement("button",{className:"button is-info",onClick:this.handleLocation,disabled:this.props.disableLocation},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-location-arrow"}))))))))}}]),t}(n.Component),J=Object(s.b)(function(e,t){return{disableLocation:e.error.disableLocation,icon:e.weather.currently.icon}},{fetchWeather:function(e){return function(t){return w(e).then(function(e){if(200!==e.status)throw new Error(e);var a=e.data.result,n=a.currently,r=a.hourly,i=a.daily,c=a.timezone;t({type:"FETCH_WEATHER",currently:n,hourly:r,daily:i,timezone:c,location:e.data.location})}).catch(function(e){t({type:"ERROR",message:"I couldn't find the weather for that location."})})}},fetchWeatherFromCoords:function(e,t){return function(a){return j(e,t).then(function(e){if(200!==e.status)throw new Error(e);var t=e.data,n=t.currently,r=t.hourly,i=t.daily,c=t.timezone;return a({type:"FETCH_WEATHER_FROM_COORDS",currently:n,daily:i,hourly:r,timezone:c,location:"".concat(e.data.latitude,", ").concat(e.data.longitude)})}).catch(function(e){return a({type:"ERROR"})})}},loading:function(){return function(e){return e({type:"LOADING"})}},locationError:function(){return function(e){return e({type:"LOCATION_ERROR",message:"Please enable your location!"})}}})(M),q=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,V=Object(l.e)(E,q(Object(l.a)(o.a)));c.a.render(r.a.createElement(s.a,{store:V},r.a.createElement(J,null)),document.querySelector("#root"))}},[[31,2,1]]]);
//# sourceMappingURL=main.9f5b8acf.chunk.js.map